<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.my.project.controller.ReservationController"
            stylesheets="@/style/styles.css"
            prefWidth="900" prefHeight="650"
            styleClass="dashboard-root">

    <!-- Top Navigation Bar (matching your exact design) -->
    <top>
        <HBox styleClass="top-nav" alignment="CENTER_LEFT" spacing="15">
            <padding>
                <Insets top="10" bottom="10" left="20" right="20"/>
            </padding>

            <!-- Logo/Brand -->
            <HBox alignment="CENTER_LEFT" spacing="10" styleClass="brand-section">
                <Label text="🏢" styleClass="brand-icon"/>
                <Label text="Admin Hub" styleClass="brand-text"/>
            </HBox>

            <!-- Navigation Menu -->
            <Region HBox.hgrow="ALWAYS"/>

            <HBox spacing="10" alignment="CENTER">
                <Button text="📋 Réservations" styleClass="nav-button nav-button-active"/>
                <Button text="🏢 Salles" styleClass="nav-button"/>
                <Button text="🖥️ Équipements" styleClass="nav-button"/>
                <Button text="👥 Demandes Équip." styleClass="nav-button"/>
                <Button text="👥 Utilisateurs" styleClass="nav-button"/>
                <Button text="📊 Analyse" styleClass="nav-button"/>
                <Button text="📄 Rapport PDF" styleClass="nav-button"/>
            </HBox>

            <!-- User Section -->
            <HBox alignment="CENTER_RIGHT" spacing="10">
                <Label text="Admin" styleClass="user-name"/>
                <Button text="Déconnexion" styleClass="logout-button"/>
            </HBox>
        </HBox>
    </top>

    <!-- Main Content Area -->
    <center>
        <ScrollPane styleClass="analytics-scroll" fitToWidth="true" fitToHeight="true">
            <VBox styleClass="analytics-content" spacing="25">
                <padding>
                    <Insets top="25" bottom="25" left="40" right="40"/>
                </padding>

                <!-- Page Header -->
                <VBox spacing="8" alignment="CENTER">
                    <Label text="Nouvelle Réservation" styleClass="page-title"/>
                    <Label text="Réservez une salle selon vos besoins" styleClass="page-subtitle"/>
                </VBox>

                <!-- Main Form Container -->
                <HBox alignment="CENTER">
                    <VBox styleClass="form-card" spacing="25" maxWidth="600" prefWidth="600">
                        <padding>
                            <Insets top="30" bottom="30" left="40" right="40"/>
                        </padding>

                        <!-- Form Fields -->
                        <VBox spacing="20">

                            <!-- Salle Selection -->
                            <VBox spacing="8">
                                <Label text="Salle" styleClass="form-label"/>
                                <ComboBox fx:id="salleComboBox" styleClass="modern-input" prefWidth="520"/>
                            </VBox>

                            <!-- Date -->
                            <VBox spacing="8">
                                <Label text="Date" styleClass="form-label"/>
                                <DatePicker fx:id="datePicker" styleClass="modern-input" prefWidth="520"/>
                            </VBox>

                            <!-- Time Fields -->
                            <HBox spacing="15">
                                <VBox spacing="8" HBox.hgrow="ALWAYS">
                                    <Label text="Heure de début" styleClass="form-label"/>
                                    <TextField fx:id="heureDebutField"
                                               promptText="ex: 10:00"
                                               styleClass="modern-input"
                                               prefWidth="250"/>
                                </VBox>

                                <VBox spacing="8" HBox.hgrow="ALWAYS">
                                    <Label text="Heure de fin" styleClass="form-label"/>
                                    <TextField fx:id="heureFinField"
                                               promptText="ex: 12:00"
                                               styleClass="modern-input"
                                               prefWidth="250"/>
                                </VBox>
                            </HBox>

                            <!-- Description -->
                            <VBox spacing="8">
                                <Label text="Description" styleClass="form-label"/>
                                <TextArea fx:id="descriptionArea"
                                          promptText="Décrivez l'objet de votre réservation..."
                                          styleClass="modern-textarea"
                                          prefHeight="60"
                                          prefWidth="520"
                                          wrapText="true"/>
                            </VBox>

                            <!-- Submit Button -->
                            <HBox alignment="CENTER" spacing="15">
                                <padding>
                                    <Insets top="10"/>
                                </padding>
                                <Button text="Réserver"
                                        onAction="#handleReservation"
                                        styleClass="primary-button form-submit-btn"
                                        prefWidth="200"/>
                            </HBox>

                            <!-- Message Label -->
                            <HBox alignment="CENTER">
                                <Label fx:id="messageLabel"
                                       wrapText="true"
                                       styleClass="form-message"
                                       textAlignment="CENTER"
                                       prefWidth="520"/>
                            </HBox>
                        </VBox>
                    </VBox>
                </HBox>

                <!-- Rules Information Panel -->
                <HBox alignment="CENTER">
                    <VBox styleClass="table-container" spacing="15" maxWidth="600" prefWidth="600">
                        <padding>
                            <Insets top="20" bottom="20" left="30" right="30"/>
                        </padding>

                        <Label text="📝 Règles de Réservation" styleClass="table-title"/>

                        <VBox spacing="8">
                            <Label text="• Maximum 3 réservations par jour" styleClass="info-item"/>
                            <Label text="• Durée maximale: 4 heures par réservation" styleClass="info-item"/>
                            <Label text="• Pas de réservation dans le passé" styleClass="info-item"/>
                            <Label text="• Aucun chevauchement entre vos réservations" styleClass="info-item"/>
                        </VBox>
                    </VBox>
                </HBox>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>